<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scrabble Word Game</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin-top: 20px;
    }
    #tiles {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
    }
    .tile {
      width: 50px;
      height: 50px;
      display: flex;
      justify-content: center;
      align-items: center;
      border: 2px solid #333;
      margin: 5px;
      cursor: pointer;
      font-size: 18px;
      background-color: #f0f0f0;
    }
    #wordInput {
      margin-top: 20px;
      font-size: 18px;
      padding: 5px;
    }
    #submitWord {
      margin-top: 10px;
      padding: 5px 10px;
      font-size: 16px;
    }
    #currentPlayer {
      margin-top: 20px;
      font-size: 20px;
    }
  </style>
</head>
<body>

  <h1>Scrabble Word Game</h1>
  <div id="currentPlayer">Current Player: 1</div>

  <div id="tiles">
    <!-- Tiles will appear here -->
  </div>

  <input type="text" id="wordInput" placeholder="Type your word here..." />
  <button id="submitWord">Submit Word</button>

  <div id="messages"></div>

  <script>
    let sowpodsWords = [];
    let tiles = [];
    let currentPlayer = 1;
    let wordsMade = [[], []]; // Keeps track of words made by each player
    let availableTiles = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');
    
    // Fetch the word list from your GitHub repository
    async function loadSowpodsWords() {
      const response = await fetch('https://raw.githubusercontent.com/yourusername/yourrepository/main/words.txt');  // Replace with the actual URL
      const text = await response.text();
      sowpodsWords = text.split('\n').map(word => word.trim().toUpperCase());
      console.log(sowpodsWords.slice(0, 10));  // Print first 10 words for debugging
      generateTiles();
    }
    
    // Function to generate and display the tiles
    function generateTiles() {
      const tileCount = 50; // Example: Number of tiles to show
      tiles = [];

      // Randomize available tiles for simplicity
      for (let i = 0; i < tileCount; i++) {
        const randomTile = availableTiles[Math.floor(Math.random() * availableTiles.length)];
        tiles.push(randomTile);
      }

      const tilesContainer = document.getElementById('tiles');
      tilesContainer.innerHTML = '';

      tiles.forEach((tile, index) => {
        const tileElement = document.createElement('div');
        tileElement.classList.add('tile');
        tileElement.textContent = tile;
        tileElement.addEventListener('click', () => flipTile(index));
        tilesContainer.appendChild(tileElement);
      });
    }

    // Handle tile flipping and word validation
    let flippedTiles = [];

    function flipTile(index) {
      if (flippedTiles.includes(index)) return;

      flippedTiles.push(index);
      const tile = tiles[index];
      const wordInput = document.getElementById('wordInput');
      wordInput.value = (wordInput.value + tile).toUpperCase(); // Add the letter to the current word

      document.getElementById('messages').textContent = `Player ${currentPlayer}: Form a word!`;
    }

    // Validate word and switch player
    function submitWord() {
      const wordInput = document.getElementById('wordInput');
      const word = wordInput.value.toUpperCase().trim();
      
      if (word.length < 4) {
        document.getElementById('messages').textContent = "Word must be at least 4 letters!";
        return;
      }

      if (!sowpodsWords.includes(word)) {
        document.getElementById('messages').textContent = "Invalid word!";
        return;
      }

      // Check for word stealing by opponent
      let opponent = (currentPlayer === 1) ? 2 : 1;
      if (wordsMade[opponent].some(existingWord => word.startsWith(existingWord) || word.endsWith(existingWord))) {
        document.getElementById('messages').textContent = `Player ${opponent} can steal this word!`;
        return;
      }

      // Register the word for the current player
      wordsMade[currentPlayer - 1].push(word);
      document.getElementById('messages').textContent = `Player ${currentPlayer} made the word "${word}"!`;

      // Switch player
      currentPlayer = (currentPlayer === 1) ? 2 : 1;
      document.getElementById('currentPlayer').textContent = `Current Player: ${currentPlayer}`;

      // Reset the word input
      wordInput.value = '';
    }

    // Initialize the game
    loadSowpodsWords();

    // Set up the submit word button
    document.getElementById('submitWord').addEventListener('click', submitWord);
  </script>

</body>
</html>
